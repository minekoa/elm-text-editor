# elm-text-editorのElm 0.19対応残件メモ

## 1. タップした時のカーソル座標

### 1.1. 行

getBoundingPageRectしてないので、CodeAreaのページオフセットが解らない

### 1.2. 列

座標→文字列数計算

## 2. セレクションの表示位置

一応対応したが、Cmdで座標計算するので、セレクションエリア描画更新がワンテンポ遅れる問題が残っている。

### 2.1. 一行まるっと選択されている行

CodeAreaのサイズがわからないのでおかしい

### 2.2. 選択開始文字位置/終了文字位置

文字位置→座標計算ができてないので上手く行かない


## 3. IME入力

textarea がクリアされてない問題

一応 chrome ではソレナリに動いて見えるが、選択候補の位置がおかしくなる

## 4. クリップボード連携

Native殺したので動いてない

## 5. 文字の高さの自動計算

Native殺したので動いてない

## 6. カーソル移動に追従してスクロール

対応した。アルゴリズムはJavaScriptコードをベタ移植した。
しかし、一瞬カクつくようになった（AnimationFrameを使っていた部分が亡くなった影響？）


また、ベタ移植故に、frameのViewPort, frameのElement, targetのElementを取得しているが、
こんなに持ってこなくても、もっと上手いやりかたがあるような気がする


## A1. ユニットテスト

elm-test が亡くなったので動いてないっぽい。やり方調べる
